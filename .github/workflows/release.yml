name: Release to PyPI (trusted publishing)

on:
  push:
    tags:
      - "v*"
  workflow_dispatch:

permissions:
  contents: read
  id-token: write

concurrency:
  group: pypi-release-${{ github.repository }}-${{ github.ref }}
  cancel-in-progress: false

jobs:
  release:
    name: Build & Publish (via eb-integration wrapper)
    uses: Economistician/eb-integration/.github/workflows/release-wrapper.yml@main